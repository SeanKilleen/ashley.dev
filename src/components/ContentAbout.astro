---
import { Code } from 'astro:components';

const code = `interface Developer {
    name: string;
    skills: string[];
    interests: string[];
};

interface TechStack {
    devOps: string[];
    backend: string[];
   frontend: string[];
   design: string[];
};

type ContactType = 'github' | 'twitter' | 'linkedIn' | 'bluesky' | 'email';

const techStack: TechStack = {
    devOps: [
        'GitHub',
        'Docker',
        'Cloudflare'
    ],
    backend: [
        'Golang',
        'Python',
        'Node.js',
        'Flask'
    ],
    frontend: [
        'JavaScript',
        'Angular',
        'Vue.js',
        'Jinja2',
        'HTML5',
        'CSS3',
        'TailwindCSS',
        'Astro',
        'SCSS',
        'Markdown',
        'WordPress'
    ],
    design: [
        'Adobe Illustrator'
    ]
};

// Developer profile
const me: Developer = {
    name: 'Ashley Willis',
    skills: [
       ...techStack.devOps,
        ...techStack.backend,
        ...techStack.frontend,
        ...techStack.design
    ],
    interests: [
        'Open Source',
        'Developer Experience',
        'Performance',
        'AI',
        'Accessibility',
        'Networking',
        'Photography',
        'Maker Projects',
        'Public Speaking',
        'Diversity, Equity, and Inclusion (DEI)'
    ]
};

// Contact function
const contact = (type: ContactType): string => {
    switch (type) {
        case 'github':
            return 'https://github.com/ashleymcnamara';
        case 'twitter':
            return 'https://x.com/ashleymcnamara';
        case 'linkedIn':
            return 'https://www.linkedin.com/in/ashleymcnamara1';
        case 'bluesky':
            return 'https://bsky.app/profile/ashley.dev';
        case 'email':
            return 'hello@ashley.dev';
        default:
            return 'Send fax.';
    }
};

`;
---

<Code
    code={code}
    lang="js"
    wrap={true}
/>

<style is:global>

    /* Custom styling for code block line numbers */
    pre.astro-code {
        @apply bg-transparent !important;
        word-break: break-word;
        overflow-wrap: break-word;
        white-space: pre-wrap;
    }

    pre.astro-code code {
        @apply block;
        counter-reset: step;
        counter-increment: step 0;
        font-size: 0.85rem;
        line-height: 0.9; /* Reduced from 1 to 0.9 for even tighter spacing */
    }

    @media (max-width: 640px) {
        pre.astro-code code {
            font-size: 0.75rem;
        }
    }

    pre.astro-code code .line {
        @apply relative;
        padding-left: 2.5rem;
        text-indent: 0;
        position: relative;
        display: block;
        margin-bottom: 0; /* Removed margin-bottom for tighter line spacing */
    }

    pre.astro-code code .line::before {
        content: counter(step);
        counter-increment: step;
        @apply text-gray-600 pr-1;
        width: 2rem;
        position: absolute;
        left: 0;
        top: 0; /* Ensure alignment at the top of line */
        display: inline-block;
        text-align: right;
    }
    
    /* Additional mobile optimizations */
    @media (max-width: 480px) {
        pre.astro-code code .line {
            padding-left: 2.2rem;
        }
        
        pre.astro-code code .line::before {
            width: 1.7rem;
            font-size: 0.7rem;
        }
    }

</style>